var templateMod={anchorScroll:'href="javascript:void(0)" onClick="anchorScroll($(this),$(\'{{end}}\'),{{offset}})"',anchorTag:'<a {{href}} title="{{title}}">{{anchorContent}}</a>',areaTag:'<area shape="{{shape}}" coords="{{coords}}" {{href}} title="{{title}}">',heading:"<h1>{{heading}}</h1>",headingIntro:'<p class="intro">{{headingIntro}}</p>',iccDisclaimer:'<p class="iccDisclaimer" onclick="$(this).Tooltip(\'{{disclaimerText}}\',{{disclaimerBoxWidth}},{hasCloseButton:true})" style="{{disclaimerCss}}">{{disclaimerLink}}</p>',iccDiv:'<div class="iccCode" style="{{iccCss}}"><p class="iccText">Use Code <strong>{{iccCode}}</strong></p></div>',iccExpiry:"<p>Good through {{iccExpiry}}.</p>",iccUsage:"<p>One-time use per {{iccUsage}}.</p>",imageTag:'<img class="img" src="{{src}}" alt="{{alt}}">',href:'href="{{url}}{{mcode}}"',liTag:"<li>{{li}}</li>",locator:'class="scTrack pfm" sctype="pfm" sku="{{sku}}" locater="carousel_1"',mapTag:'<map name="{{mapName}}">{{mapAreas}}</map>',qView:"href=\"javascript:void(0)\" onClick=\"showPriceInCart(this, '{{sku}}', '{{effort}}', '{{absolute}}')\"",readMore:'<p class="accordion"><a href="javascript:void(0)">{{readMore}}</a></p>'};function anchorScroll(c,a,b){if(b==null){b=0}b=$(".is-sticky")[0]?b-60:b-210;$("html, body").animate({scrollTop:a.offset().top+b},Math.abs(a.offset().top-c.offset().top)*250/1000)}function buildDisclaimer(a){a.disclaimerMultiple=a.disclaimer.split("+");for(a.i=0;a.i<a.disclaimerMultiple.length;a.i++){a.disclaimerArray=a.disclaimerMultiple[a.i].split(",");a.disclaimerLink=a.disclaimerArray[0]?a.disclaimerArray[0]:"View Disclaimer";a.disclaimerText=a.disclaimerArray[1];a.disclaimerBoxWidth=a.disclaimerArray[2]?parseInt(a.disclaimerArray[2]):400;a.disclaimerCss=a.disclaimerArray[3]?a.disclaimerArray[3]:"";a.disclaimerNumber=a.disclaimerText.match(/[dD][0-9]+[a-zA-Z]*/g);if(a.disclaimerNumber){for(a.j=0;a.j<a.disclaimerNumber.length;a.j++){a.disclaimerText=a.disclaimerText.replace(a.disclaimerNumber[a.j],disclaimerText[a.disclaimerNumber[a.j]])}}a.html+=render(templateMod.iccDisclaimer,a)}}function getParamVal(b,d){var a=b.split(";");for(var c=0;c<a.length;c++){if(a[c].indexOf(d)>0){return a[c].split("=")[1]}}return false}function imgRollOvr(a,b){a.attr("src",b)}function initMod(a,c,b){var d=0;if(c&&b){if(isEmpty(c,b)&&a){loadCss(a)}}}function isEmpty(b,a){if(b.trim()==""){a.remove();return 0}else{return 1}}function loadCss(b){b=b.split(",");for(var a=0;a<b.length;a++){if(!$('link[href="'+b[a]+'"]').length){$("head").append('<link href="'+b[a]+'" rel="stylesheet">')}}}function render(b,c){for(var a in c){b=b.replace(new RegExp("{{"+a+"}}","g"),c[a])}return b}function webAd(a,b){if(b.src){if(b.disclaimer||b.icc||b.htmlText){loadCss("/content/iw/styles/mod.min.css")}for(b.g in b){if(b[b.g]!=""){b[b.g]=b[b.g].replace(/\s*,\s*/g,",").replace(/\s*\+\s*/g,"+").trim();if(b.g=="link"||b.g=="map"){b[b.g]=b[b.g].replace(/[a-zA-Z0-9]\?/,function(c){return c.slice(0,-1)+",?"})}}}b.anchorContent=render(templateMod.imageTag,b);if(b.htmlText){b.anchorContent+=b.htmlText}if(b.link){b.linkArray=b.link.split(",");if(b.linkArray[3]){b.sku=b.linkArray[0];b.effort=b.linkArray[1]?b.linkArray[1]:"901";b.absolute=b.linkArray[2];b.href=render(templateMod.qView,b)+render(templateMod.locator,b);b.html=render(templateMod.anchorTag,b)}else{b.url=b.linkArray[0];if(b.linkArray[2]){if(b.linkArray[0].indexOf("/cbs/")>=0){b.sku=b.linkArray[0].slice(b.linkArray[0].lastIndexOf("/")+1,b.linkArray[0].indexOf("."));b.locator=b.linkArray[1]}b.mcode=b.linkArray[2]}else{b.mcode=b.linkArray[1]}b.href=render(templateMod.href,b);b.html=render(templateMod.anchorTag,b)}}else{if(b.map){b.mapName="map-"+a;b.html=b.anchorContent.slice(0,b.anchorContent.search("s"))+'usemap="#'+b.mapName+'" '+b.anchorContent.slice(b.anchorContent.search("s"));b.mcode=b.map.slice(b.map.lastIndexOf(",")+1)+"-00";b.map=b.map.slice(0,b.map.lastIndexOf(","));b.mapMultiple=b.map.split("+");b.mapAreas="";for(b.i=0;b.i<b.mapMultiple.length;b.i++){b.mapArray=b.mapMultiple[b.i].split(",");b.j=1;while(b.mapArray[b.j]!="rect"&&b.mapArray[b.j]!="circle"&&b.mapArray[b.j]!="poly"){b.j++}b.shape=b.mapArray[b.j];b.title=b.mapArray[b.j+1];b.coords="";for(b.k=b.j+2;b.k<b.mapArray.length;b.k++){b.coords+=b.mapArray[b.k]+","}b.coords=b.coords.slice(0,b.coords.lastIndexOf(","));if(b.j==3||b.j==4){b.sku=b.mapArray[0];b.effort=b.mapArray[1]?b.mapArray[1]:"901";b.absolute=b.mapArray[2];b.href=render(templateMod.qView,b);if(b.j==4){b.locator=b.mapArray[3]}}else{b.url=b.mapArray[0];if(b.j==2){if(b.mapArray[0].indexOf("/cbs/")>=0){b.sku=b.mapArray[0].slice(b.mapArray[0].lastIndexOf("/")+1,b.mapArray[0].indexOf("."));b.locator=b.mapArray[1]}}b.href=render(templateMod.href,b)}if(b.locator){b.href=b.href.concat(" ",render(templateMod.locator,b))}b.mapAreas+=render(templateMod.areaTag,b);if(b.i<b.mapMultiple.length){b.mcode=b.mcode.slice(0,b.mcode.lastIndexOf("-")+1)+b.i+1}}b.html+=render(templateMod.mapTag,b)}else{b.html=b.anchorContent}}if(b.icc){b.iccMultiple=b.icc.split("+");for(b.i=0;b.i<b.iccMultiple.length;b.i++){b.iccArray=b.iccMultiple[b.i].split(",");b.iccCode=b.iccArray[0];b.iccCss=b.iccArray[3]?b.iccArray[3]:"";b.icc=render(templateMod.iccDiv,b);if(b.iccArray[1]){b.iccUsage=b.iccArray[1];b.icc=b.icc.slice(0,b.icc.search("</d"))+render(templateMod.iccUsage,b)+b.icc.slice(b.icc.search("</d"))}if(b.iccArray[2]){b.iccExpiry=b.iccArray[2];b.icc=b.icc.slice(0,b.icc.search("</d"))+render(templateMod.iccExpiry,b)+b.icc.slice(b.icc.search("</d"))}b.html+=b.icc}}if(b.disclaimer){if(b.disclaimer.search(/[dD][0-9]+[a-zA-Z]*/)>=0){$.getScript("/content/iw/scripts/disclaimers.js",function(){buildDisclaimer(b)})}else{buildDisclaimer(b)}}if($.active>0){$(document).ajaxComplete(function(){$("#webAd-"+a).html(b.html)})}else{$("#webAd-"+a).html(b.html)}}else{$("#webAd-"+a).remove()}}$("#mod .quarter, #mod .third, #mod .half, #mod .threeQuarter, #mod .full").each(function(){if($(this).position().left-$(this).parent().position().left<100){$(this).css("margin-left","0")}});