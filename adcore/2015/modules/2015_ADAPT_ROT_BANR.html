<!-- 2015_ADAPT_ROT_BANR -->
<style type="text/css">
    .carouselSupercat {padding:0;margin:auto;}
    .carouselSupercat .scLeft {z-index:10;top:120px}
    .carouselSupercat .scRight {z-index:10;top:120px}
    .carouselSupercat .carouselWrap {width: 960px;} 
    .res1024 .carouselSupercat .carouselWrap {width: 960px;} 
    .res1280 .carouselSupercat .carouselWrap {width: 1205px;} 
    .res1450 .carouselSupercat .carouselWrap {width: 1450px;} 
    .carouselSupercat li.itemb{width: 960px;}
    .res1024 .carouselSupercat li.itemb{width: 960px;}
    .res1280 .carouselSupercat li.itemb{width: 1205px;}
    .res1450 .carouselSupercat li.itemb{width: 1450px;}
    .fixedImg{position:absolute;left:0;top:0;z-index:9;height:300px;}
    .bg-image{float:right;}
    .coupon-code{position:absolute;width:200px;padding:10px;text-align:left;color:#000;z-index:10;}
</style>

<div id="CarouselPh"></div>

 <script type="text" id="couponTemplate">
  <li class="itemb panelItem cropRight" style="height:300px;background:#ccc;padding:0;position:relative;">
	<a href="{{url}}" title="{{title}}"><img src="{{image}}" alt="{{alt}}"/></a>
	<div class="coupon-code" style="top:{{top}}px; left:{{left}}px">
	  <p style="text-align:center;background:#ccc;width:190px;height:24px;padding:0;line-height:24px;">
		  <span style=" color:#fff; font-family:Arial, Helvetica, sans-serif; font-size:12px; color:#000000; text-decoration: none;">Use Code 
		  </span>
		  <span style="font-family:Arial, Helvetica, sans-serif; font-size:16px; font-weight:bold; color:#000000; text-decoration: none;">
		  {{coupon}}</span>
	  </p>
	  <p style="color:#000;font-family:Arial, Helvetica, sans-serif;font-size:11px;text-decoration:none;">{{usageText}}</p>
	</div>
  </li>
</script>

<script type="text" id="baseTemplate">
    <div class="carousel carouselSupercat" id="adaptiveCarousel" data-itemclass="itemb" data-itemtag="li" 
    data-type="Horizontal" data-itemsperpage="1" data-showarrows="true" data-autostart="true" 
    data-autoscroll="true" data-autostarttime="0.5" data-autoscrolltime="5" data-restart="true"	style="height:300px;">	
        <div class="carouselWrap" style="">
	    <ul style="" class="carouselInner">
		 {{html}}
	    </ul>
        </div>
    </div>
</script>

<script type="text" id="panoramicItem">
    <li class="a itemb panelItem" style="height:300px;background:#ccc;padding:0;position:relative;">
        <a href="{{url}}" title="{{title}}">
            <img class="fixedImg" src="{{fixedImg}}" alt="{{alt}}" height="300"/>
            <img class="bg-image" src="{{image}}" alt="{{alt}}" height="300">
        </a>	
    </li>
</script>

<script type="text" id="cropRightItem">
    <li class="itemb panelItem cropRight" style="height:300px;background:#ccc;padding:0;position:relative;">
	<a  href="{{url}}" title="{{title}}">
	    <img src="{{image}}" alt="{{alt}}"/>
	</a>
    </li>
</script>

<script type="text" id="cropBothItem">
    <li class="itemb panelItem cropBoth" style="height:300px;background:#ccc;padding:0;position:relative;">
	<div class="cropped-image-size">
	    <div class="cropped-image-center">
		<span style="display:inline-block;">
		    <a href="{{url}}" title="{{title}}">
			<img src="{{image}}" alt="{{alt}}" height="300">
		    </a>
		</span>
	    </div>
        </div>
    </li>
</script>

<script type="text/javascript">
    (function(){
	var $$ = null;
	if (typeof $ == "undefined")
	{
	    $$ = function(path){
            var obj = null;
	    var paths = path.split(" ");
            var node = null;
	    for(var i=0;i<paths.length;i++){
		var result = [];
		var selector = paths[i][0];
		if(selector == "#"){
		    var str = paths[i].substring(1,paths[i].length)
		    obj = document.getElementById(str);
		}
	    };

	    obj.html  = function(html){
		if(obj){
		    if(!html)
			return obj.innerHTML;
		    obj.innerHTML = html;
		}
		return obj;
	    }
            return obj;
	    };
	}
	else
	{
	  $$ = $;
	}
			  
	function render(html,obj){
	    for(var k in obj){
		html = html.replace("{{" + k + "}}",obj[k]);
		}
		    return html;  
		}

	var data = [{
	    mode: "$%u_ad_01_img_mode%$",
	    image: "$%u_ad_01_img_src%$",
            fixedImg: "$%u_ad_01_fixedImg_src%$",
	    largeImage: "$%u_ad_01_largeImg_src%$",
	    alt: "$%u_ad_01_img_alt%$",
            url: "$%u_ad_01_link_url%$",
	    title: "$%u_ad_01_link_title%$",
            coupon: "$%coupon_code1%$",
	    top: "$%u_ad_01_coupon_code_top%$",
	    left: "$%u_ad_01_coupon_code_left%$",
	    usageText: "$%u_ad_01_usage_text%$"
	},
	{   mode: "$%u_ad_02_img_mode%$",
	    image: "$%u_ad_02_img_src%$",
	    fixedImg: "$%u_ad_02_fixedImg_src%$",
	    largeImage: "$%u_ad_02_largeImg_src%$",
	    alt: "$%u_ad_02_img_alt%$",
	    url: "$%u_ad_02_link_url%$",
	    title: "$%u_ad_02_link_title%$"
	},
	{   mode: "$%u_ad_03_img_mode%$",
	    image: "$%u_ad_03_img_src%$",
	    fixedImg: "$%u_ad_03_fixedImg_src%$",
            largeImage: "$%u_ad_03_largeImg_src%$",
	    alt: "$%u_ad_03_img_alt%$", 
	    url: "$%u_ad_03_link_url%$",
	    title: "$%u_ad_03_link_title%$"
	}];

	var onAdapt = [];

	var html = "";
	for(var i=0;i<data.length;i++){
            if(data[i].image)
            {
	    if(data[i].mode == "couponTemplate"){
		html += render($$("#couponTemplate").html(),data[i]);
	    }
            else if(data[i].mode == "panoramic"){
		html += render($$("#panoramicItem").html(),data[i]);
	    }
	    else if(data[i].mode == "cropRight" || data[i].mode != "panoramic" && data[i].mode != "cropBoth")
	    {
	       html += render($$("#cropRightItem").html(),data[i]);                        


	       if(typeof Adaptive != "undefined")
	       {
	           var func = function(size){
		       if(size == 1450 && this.largeImgSrc)                  
		           {$$(this.id).attr("src", this.largeImgSrc);}
		       else
			   {$$(this.id).attr("src", this.imgSrc);}
		   };
		   func.id = "#CarouselPh li:nth-child("+(i+1)+").cropRight img";
	           func.largeImgSrc = data[i].largeImage;
		   func.imgSrc = data[i].image;
	           onAdapt.push(func);			   	   


               }
	    }
	    else if(data[i].mode == "cropBoth"){
		html += render($$("#cropBothItem").html(),data[i]);
	    }

          }
	}
	$$("#CarouselPh").html(render($$("#baseTemplate").html(),{html: html}));
	if($$("#CarouselPh").Carousel)
		$$("#CarouselPh").Carousel();
	for(var i=0;i<onAdapt.length;i++){
	   Adaptive.OnResize(onAdapt[i]);
	   func.call(onAdapt[i],Adaptive.Size());	
        }
		  
    })();
</script>